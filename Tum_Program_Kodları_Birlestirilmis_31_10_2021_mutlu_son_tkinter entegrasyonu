# -*- coding: utf-8 -*-
"""
Created on Sat Oct  9 10:10:03 2021

@author: Pc
"""


### "TUSAŞ TARİFNAME YAZIM PROGRAMINA HOŞGELDİNİZ :)"

from tkinter import *

def show_entry_fields():
    print("Girilen unsur sayisi: %s" % (toplam_unsur_sayisi_entry.get()))

root = Tk()

root.title("TUSAŞ Tarifname Yazım Programı Toplam Unsur Sayısı Girişi")
root.geometry("500x300")

Label_1= Label(root, text="Toplam Dahili Unsur Sayısını Giriniz:").grid(row=0, column=1)

# Toplam Unsur Sayısı unsurunu depola

toplam_unsur_sayisi_intvar = IntVar()

toplam_unsur_sayisi_entry = Entry(root, textvariable=toplam_unsur_sayisi_intvar)

toplam_unsur_sayisi_entry.grid(row=1, column=1)

Button(root, text='Göster', command=show_entry_fields).grid(row=3, column=0, sticky=W, pady=4)

Button(root, text='Unsur İsimleri ve Unsur Tanımlamalarına Geç', command=root.quit).grid(row=3, column=1, sticky=W, pady=4)

root.mainloop()

###---YUKARIDAKİ KOD TOPLAM UNSUR SAYISINI KULLANICIDAN ALDIĞIMIZ 1.GUI'MIZ.

#Kullanıcıdan toplam dahili unsur sayısını aldık Tkinter üzerinden. Bu sayıyı 2. ayrı bir Tkinter penceresi ile for döngüsü için kullanacağız.

unsur_sayilari_listesi = []

#Yukarıda unsur sayıları listesini oluşturmak için boş bir liste atadık. Daha sonra buraya 1'den n'e kadar unsur sayilarini atayacağız.

toplam_unsur_sayisi = toplam_unsur_sayisi_intvar.get()

for i in range (1,toplam_unsur_sayisi+1):
    unsur_sayilari_listesi.append (i)
    
#Yukarıda unsur sayiları listemizi 1'den n'e kadar boş listeye ekleye ekleye oluşturduk.

master = Tk()
master.title("TUSAŞ Tarifname Yazım Programı Unsur İsimleri ve Tanımları Girişi")
master.geometry("700x500")

Label(master, text="Unsur İsimleri ").grid(row=0, column=1)
Label(master, text="Unsur Tanımları ").grid(row=0, column=2)

for z in range (1,toplam_unsur_sayisi+1):
   Label(master, text= str(z) + ". unsur ").grid(row=z, column=0)

my_entries_unsur_isimleri = StringVar()

my_entries_unsur_isimleri= []

my_entries_unsur_tanimlari = StringVar()

my_entries_unsur_tanimlari= []

def show_values ():
    entry_list = ''
    
    for entries in my_entries_unsur_isimleri:
        entry_list = entry_list + str(entries.get()) + '\n'
        my_label.config(text=entry_list)
    
    for q in range(toplam_unsur_sayisi):
       print(my_entries_unsur_isimleri [q].get())
       
    for entries in my_entries_unsur_tanimlari:
        entry_list = entry_list + str(entries.get()) + '\n'
        my_label.config(text=entry_list)
    
    for w in range(toplam_unsur_sayisi-1):
       print(my_entries_unsur_tanimlari [w].get())
    
    #print(my_entries [24].get()) #Konsolda yazılmasını istediğin şeyi böyle yazabilirsin, 
    #örneğin 5e5lik bir matris için 24 yazarsan son hücreyi yazdırır.

#Unsur İsimleri Sütunu - Row Loop
for x in range (1, toplam_unsur_sayisi+1):  
   my_entry_unsur_isimleri = Entry (master)
   my_entry_unsur_isimleri.grid(row=x, column=1, pady=20, padx=5)
   my_entries_unsur_isimleri.append(my_entry_unsur_isimleri)
    
#Unsur Tanımları Sütunu - Row Loop
for y in range (2, toplam_unsur_sayisi+1):  
   my_entry_unsur_tanimlari = Entry (master)
   my_entry_unsur_tanimlari.grid(row=y, column=2, pady=20, padx=5)
   my_entries_unsur_tanimlari.append(my_entry_unsur_tanimlari)
    
my_button = Button (master, text="Girilen Verileri Göster", command=show_values)
my_button.grid(row=15, column=0, pady=20)

exit_button_2 = Button (master, text="Text Editore Geç / Çıkış Yap", command=master.quit)
exit_button_2.grid(row=15, column=2, pady=20)

my_label = Label (master, text= "")
my_label.grid(row=20, column=0, pady=20)

master.mainloop()

###---3. GUI

master_2 = Tk()
master_2.title("TUSAŞ Tarifname Yazım Programı Unsur İsimleri ve Tanımları Girişi")
master_2.geometry("700x500")

unsur_isimleri_listesi = []

#Yukarıda unsur isimleri listesini oluşturmak için boş bir liste atadık. Daha sonra buraya unsur isimlerini atayacağız.

for i in range (1, toplam_unsur_sayisi+1):
    unsur_isimleri_listesi.append (i)

#unsur_sayilari_listesi ile aynı üyeleri olan listeyi oluşturduk ki boş listemizde aynı sayıda unsurlar olsun. 
#Daha sonra bu unsurları değiştireceğiz.

for i in range (0, toplam_unsur_sayisi):

   unsur_isimleri_listesi [i] = str(my_entries_unsur_isimleri [i].get())

#Yukarıda, my_entries listesinden değerleri unsur isimlerine atadık.    
   
print ('Unsur İsimleri Sırası ile aşağıdaki gibidir: ')
print (unsur_isimleri_listesi)

unsur_tanimlari_listesi = []

#Yukarıda, unsur tanımları için boş liste tanımlanmışır.

for i in range (1, toplam_unsur_sayisi+1):
    unsur_tanimlari_listesi.append (i)

#unsur_sayilari_listesi ile aynı üyeleri olan listeyi oluşturduk ki boş listemizde aynı sayıda unsur tanımları olsun. 
#Daha sonra gerçek unsur tanımlarını gireceğiz.

unsur_tanimlari_listesi [0]= ''

#1. unsurun tanımı olmadığı için 0. indexi yani 1. unsurun tanımını boş atadık.

for i in range (0, (toplam_unsur_sayisi-1)):
    
    unsur_tanimlari_listesi [i+1] = str(my_entries_unsur_tanimlari [i].get())
      
#Yukarıdaki for döngüsü ile 1. indexten n. idexe kadar, yani 2. unsurdan n. unsura kadar unsur tanımlarını aldık.

print ('Unsur Tanımları Sırası ile aşağıdaki gibidir: ')
print (unsur_tanimlari_listesi)

#----------------------------------------------------------------------------------
#Buradan aşağıdaki kodlar önceki hazır kodlardan direkt geldi.

unsur_tanimlari_listesi_split = []

#Yukarıdaki kod ile istem cümlesi için boş bir liste atadık, böylelikle her bir unsur cümlesini aşağıda yazılan kodla ekleyip
#sonrasında bu ana istem cümlesinden index ile çekip cümleyi oluşturacağım.

for i in range (1, toplam_unsur_sayisi+1):
    unsur_tanimlari_listesi_split.append (i)

for i in range (1,toplam_unsur_sayisi):
    unsur_tanimlari_listesi_split [i] = unsur_tanimlari_listesi [i].split ()

unsur_tanimlari_listesi_split [0] = unsur_tanimlari_listesi [0]

###----BİR ÜSTTEKİ KISIMDAN BURAYA KADAR OLAN KISIMDA NE YAPTIĞIMI ANLAMAYA ÇALIŞ :D

unsur_isimleri_listesi_unsuz_yumusamasi_hali = []

for i in range (0,toplam_unsur_sayisi):
    unsur_isimleri_listesi_unsuz_yumusamasi_hali.append(unsur_isimleri_listesi [i])

unsuz_yumusamasi_harfleri_listesi_initial = ['ç', 'k', 'p', 't']

unsuz_yumusamasi_harfleri_listesi_modified = ['c','ğ','b','d']

gecici = ['']

for i in range (1, toplam_unsur_sayisi):
    if unsur_isimleri_listesi_unsuz_yumusamasi_hali [i].endswith (unsuz_yumusamasi_harfleri_listesi_initial [0]):
        gecici = list(unsur_isimleri_listesi_unsuz_yumusamasi_hali [i])
        gecici [-1] = unsuz_yumusamasi_harfleri_listesi_modified [0]
        unsur_isimleri_listesi_unsuz_yumusamasi_hali [i] = ''.join(gecici)
    elif unsur_isimleri_listesi_unsuz_yumusamasi_hali [i].endswith (unsuz_yumusamasi_harfleri_listesi_initial [1]):
        gecici = list(unsur_isimleri_listesi_unsuz_yumusamasi_hali [i])
        gecici [-1] = unsuz_yumusamasi_harfleri_listesi_modified [1]
        unsur_isimleri_listesi_unsuz_yumusamasi_hali [i] = ''.join(gecici)
    elif unsur_isimleri_listesi_unsuz_yumusamasi_hali [i].endswith (unsuz_yumusamasi_harfleri_listesi_initial [2]):
        gecici = list(unsur_isimleri_listesi_unsuz_yumusamasi_hali [i])
        gecici [-1] = unsuz_yumusamasi_harfleri_listesi_modified [2]
        unsur_isimleri_listesi_unsuz_yumusamasi_hali [i] = ''.join(gecici)
    elif unsur_isimleri_listesi_unsuz_yumusamasi_hali [i].endswith (unsuz_yumusamasi_harfleri_listesi_initial [3]):
        gecici = list(unsur_isimleri_listesi_unsuz_yumusamasi_hali [i])
        gecici [-1] = unsuz_yumusamasi_harfleri_listesi_modified [3]
        unsur_isimleri_listesi_unsuz_yumusamasi_hali [i] = ''.join(gecici)

#-------------------UNSUR İSİMLERİNİN UNSUZ YUMUSAMASI HALLERİ LİSTESİNİN OLUŞTURULDUĞU KISIM BURAYA KADARKİ KISIM---------------
        
#-------ARTIK GEREKLİ TÜM LİSTE HAZIR, UNSUZ YUMUSAMASI İÇİN GEREKEN TÜM KOŞULLARI İF VE AND İLE AYNI KOMUTTA GİRİP UNSUZ YUMUSAMASI
#OLUP OLMADIĞINI TESPİT EDİCEZ, VARSA UNSUZ YUMUSAMALI LİSTEDEKİ HALİNDEN AL DİYECEĞİZ.



#-YUKARIDAKİ KODA EK İÇİN İLK HARFİN SESLİ HARF GELİP GELMEMESİ KOŞULU EKLENECEK. ÇÜNKÜ "DÖNER ÇUBUĞA" DA DEĞİŞMESİNİ İSTERİZ AMA "DÖNER ÇUBUKTAN" DA DEĞİŞMESİNİ İSTEMEYİZ. ÜNSÜZ YUMUŞAMASI EKİN İLK HARFİ ÜNLÜ HARF OLDUĞUNDA GERÇEKLEŞTİGİ İÇİN BUNU DA KODA KATMAM GEREKİYOR.

unsur_referanslari_listesi = ["u1","u2","u3","u4","u5","u6","u7","u8","u9","u10","u11","u12","u13","u14","u15","u16","u17","u18","u19","u20"]

for i in range (1, toplam_unsur_sayisi):
    for l, item_3 in enumerate (unsur_tanimlari_listesi_split [i]):
       if unsur_tanimlari_listesi_split [i] [l].startswith (unsur_referanslari_listesi [0]):
          unsur_tanimlari_listesi_split [i] [l] = item_3 + ' (1).'
       elif unsur_tanimlari_listesi_split [i] [l].startswith (unsur_referanslari_listesi [1]):
          unsur_tanimlari_listesi_split [i] [l] = item_3 + ' (2)'
       elif unsur_tanimlari_listesi_split [i] [l].startswith (unsur_referanslari_listesi [2]):
          unsur_tanimlari_listesi_split [i] [l] = item_3 + ' (3)'
       elif unsur_tanimlari_listesi_split [i] [l].startswith (unsur_referanslari_listesi [3]):
          unsur_tanimlari_listesi_split [i] [l] = item_3 + ' (4)'
       elif unsur_tanimlari_listesi_split [i] [l].startswith (unsur_referanslari_listesi [4]):
          unsur_tanimlari_listesi_split [i] [l] = item_3 + ' (5)'
       else:
          unsur_tanimlari_listesi_split [i] [l] = item_3

#-YUKARIDAKİ KOD İLE UNSUR TANIMLARININ SPLIT VERSIYONU LISTESİNE YANİ UNSURLARA PARANTEZLİ REFERANS NUMARALARI ATANDI.
#-DAHA SONRA BU KISMI BİR J YA DA K FOR DÖNGÜSÜ İLE TEK KODLU YAPMAYA ÇALIŞ.

unsur_tanimlari_listesi_split_son = []

unsur_tanimlari_listesi_split_son.append('')
for k in range (1, len(unsur_tanimlari_listesi_split)):
   unsur_tanimlari_listesi_split_son.append(unsur_tanimlari_listesi_split [k])

sesli_harfler = ['a','e','ı','i','o','ö','u','ü']

#-Aşağıdaki kod ile kullanıcıya ünsüz yumuşaması ile ilgili bilgi verilmektedir.

for i, item in enumerate(unsur_isimleri_listesi):
   for j, item_2 in enumerate(unsuz_yumusamasi_harfleri_listesi_initial):
      if item [-1].endswith (item_2):
         print ("'{}.' unsur olan '{}' unsuru '{}'".format(i+1,item, item_2) + ' harfi ile bitmektedir ve ünsüz yumuşaması gerekebilir.') 
      else:
         continue

#-Yukarıdaki kodun amacı kullanıcıya ünsüz yumuşaması konusunda bilgi vermektir. Hangi unsur isimlerinin son harfine göre unsuz yumuşamasına
#- uğrayabileceği söylenmektedir.

for k in range (1, len(unsur_tanimlari_listesi_split)):
   for l, item_3 in enumerate(unsur_tanimlari_listesi_split [k]):
      for n in range (0,8):
         if unsur_tanimlari_listesi_split [k] [l] [1].isdigit() and unsur_tanimlari_listesi_split [k] [l] [2] == sesli_harfler [n]:
            print ("Unsur tanımlarında '[{}] [{}]' indexinde olan '{}' unsuru, unsur adından sonra '{}'".format(k,l,item_3,sesli_harfler [n]) + ' sesli harfi aldığı için ünsüz yumuşaması gerekebilir.')
         else:
            continue

#-Yukarıdaki kodun amacı kullanıcıya ünsüz yumuşaması konusunda bilgi vermektir. Unsur tanımında u(n)'deki n sayısının olup olmadığına ve 
#-n rakamından sonra sesli harf gelip gelmemesine göre unsuz yumuşaması ihtimatilini kullanıcıya söylüyor.
#-Asıl değişim aşağıdaki kodlar ile yapılacaktır.

for i, item in enumerate(unsur_isimleri_listesi):
   for j, item_2 in enumerate(unsuz_yumusamasi_harfleri_listesi_initial):
       for k in range (1, len(unsur_tanimlari_listesi_split_son)):
          for l, item_3 in enumerate(unsur_tanimlari_listesi_split_son [k]):
             for n in range (0,8):                
                if unsur_isimleri_listesi [i] [-1].endswith (unsuz_yumusamasi_harfleri_listesi_initial [j]): #Buradan 3.(i=2) ve 5. (i=4) unsur isimleri geçecek
                   if unsur_tanimlari_listesi_split [k] [l].startswith (unsur_referanslari_listesi [i]): # [k] [l] = [3] [5] ve [3] [9] geçti.
                      if unsur_tanimlari_listesi_split [k] [l] [2] == sesli_harfler [n]:
                         unsur_tanimlari_listesi_split_son [k] [l] = unsur_tanimlari_listesi_split_son [k] [l].replace (unsur_referanslari_listesi [i], unsur_isimleri_listesi_unsuz_yumusamasi_hali [i])
                      else:
                          continue
                   else: 
                      continue
                else:
                   continue

#-Yukarıdaki kodlar ile sadece unsuz yumusaması değişimlerini gerçekleştiriyoruz.

for i, item in enumerate(unsur_isimleri_listesi):
   for k in range (1, len(unsur_tanimlari_listesi_split_son)):
      for l, item_3 in enumerate(unsur_tanimlari_listesi_split_son [k]):
         if unsur_tanimlari_listesi_split [k] [l].startswith (unsur_referanslari_listesi [i]): # [k] [l] = [3] [5] ve [3] [9] geçti.
            unsur_tanimlari_listesi_split_son [k] [l] = unsur_tanimlari_listesi_split_son [k] [l].replace (unsur_referanslari_listesi [i], unsur_isimleri_listesi [i])
         else:
            continue

#- Yukarıdaki kod ile unsur referanslarını yerlerine yerleştirdik. Bir önceki kodda sadece unsuz yumusamasını değiştirdiğimiz için
#-kalan tüm değişimleri bu kodlar ile gerçekleştirdik.

unsur_tanimlari_listesi_string = []

for i in range (0,toplam_unsur_sayisi):
    unsur_tanimlari_listesi_string.append(unsur_tanimlari_listesi_split_son [i])

#-UNSUR TANIMI LİSTESİNİN STRING HALİNE ÇEVİRMEMİZ GEREKİYOR REPLACE FONK. İÇİN. BURADA BUNUN İÇİN BOŞ LİSTE ATAYIP DOLDURDUK
#-DAHA SONRA DEĞİŞTİRMEK ÜZERE.

for i in range (1, toplam_unsur_sayisi):
   unsur_tanimlari_listesi_string [i] = ' '.join(unsur_tanimlari_listesi_split_son [i])

#- REPLACE FONKSİYONUNU GERÇEKLEŞTİREBİLMEK İÇİN TÜM İFADEYİ LİST'TEN STRING FORMATINA GERİ ÇEVİRDİK JOİN FONKSİYONU İLE.

###---BURAYA KADAR İŞİN KODSAL KISMI VAR, UNSUR İSİMLERİNİN ALINMASI, UNSUR TANIMLARININ ALINMASI, UNSUZ YUMUSAMASI YAPILMASI GİBİ GİBİ.###
###---AŞAĞIDAKİ KISIMLARDA TAMAMEN NİHAİ İSTEM CÜMLESİNİ YAZMAYA YÖNELİK KODLAR.###

istem_cümlesi = []

#Yukarıdaki kod ile istem cümlesi için boş bir liste atadık, böylelikle her bir unsur cümlesini aşağıda yazılan kodla ekleyip
#sonrasında bu ana istem cümlesinden index ile çekip cümleyi oluşturacağım.

for i in range (1, toplam_unsur_sayisi+1):
    istem_cümlesi.append (i)

#unsur_sayilari_listesi ile aynı üyeleri olan listeyi oluşturduk ki boş listemizde aynı sayıda unsur tanımları olsun. 
#Sonrasında asıl istem cümlesi girilecek.

for i in range (1,toplam_unsur_sayisi+1):
    if i < toplam_unsur_sayisi:
        istem_cümlesi [i]=  unsur_tanimlari_listesi_string [i] + ' en az bir ' + unsur_isimleri_listesi [i] + ' (' + str(i+1) + '), '
    elif i+1 == toplam_unsur_sayisi:
        istem_cümlesi [i]=  unsur_tanimlari_listesi_string [i] + ' en az bir ' + unsur_isimleri_listesi [i] + ' (' + str(i+1) + ') '
    else:
        break

#Yukarıdaki kod ile for döngüsüyle tüm istemin cümlelerini indexleyerek birleştirdik tek bir list istem cümlesinde.
#Ayrıca elif kısmının eklenmesinin sebebi karakterize edilen kısmından hemen önce yani son unsurdan sonra virgül koymamak. 
#Ama şuanlık çalışmıyor, üzerinde çalış.

istem_cümlesi [0] = unsur_isimleri_listesi [0]

# istem_cümlesi 1. unsurun tanimi olmadığı için böyle özel bir kod ekleme gereksinimi doğdu, sadece unsur adından oluşan.

final_istem_cümlesi = ['']

for i in range (1,toplam_unsur_sayisi):
    final_istem_cümlesi [0] = final_istem_cümlesi [0] + (''.join(istem_cümlesi [i]))

#tüm istem cümlesini for döngüsü ile bir değişkene atadık nihai olarak.

final_istem_cümlesi [0] = final_istem_cümlesi [0] + 'ile karakterize edilen bir ' + istem_cümlesi [0] + ' (1).'

#1. unsuru tüm istem cümlemizin sonuna ekledik.


print (str(final_istem_cümlesi))

#nihai istem cümlesini yazdırdık.  

#-NOT: Sadece "ile karakterize edilen" ifadesinden önceki ','ü kaldırma işi kaldı. Mühim değil.

master_2.mainloop()

